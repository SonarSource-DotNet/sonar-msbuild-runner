# DotCoverExcludedCoverage

This testcase serves the purpose of making sure we are ignoring the `dotCover.Output.html` file and the `dotCover.Output/` directory generated by running the `dotCover` cli tool.

Specifically, to generate the files, you need to run the following at this directory:

```bash
dotnet dotcover test --dcReportType=HTML
```

This should generate the `dotCover.Output.html` file, as well as a directory with a similar structure to this:


```bash
> ls -r .\dotCover.Output\

    Directory: ..\sonar-scanner-msbuild\its\projects\DotCoverExcludedCoverage\dotCover.Output


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d-----         9/18/2024   2:39 PM                css
d-----         9/18/2024   2:39 PM                images
d-----         9/18/2024   2:39 PM                js
d-----         9/18/2024   2:39 PM                src


    Directory: ..\sonar-scanner-msbuild\its\projects\DotCoverExcludedCoverage\dotCover.Output\css


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a----         9/18/2024   2:39 PM           2673 dotcover.report.css
-a----         9/18/2024   2:39 PM           5172 dotcover.report.gen.css
-a----         9/18/2024   2:39 PM           5579 jquery.dynatree.css


    Directory: ..\sonar-scanner-msbuild\its\projects\DotCoverExcludedCoverage\dotCover.Output\images


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a----         9/18/2024   2:39 PM           3969 dotcover-icon.svg
-a----         9/18/2024   2:39 PM           4438 dynatree-icons.svg
-a----         9/18/2024   2:39 PM          53297 metadata-icons.svg
-a----         9/18/2024   2:39 PM            674 percentbar-background.svg


    Directory: ..\sonar-scanner-msbuild\its\projects\DotCoverExcludedCoverage\dotCover.Output\js


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a----         9/18/2024   2:39 PM           3016 dotcover.report.js
-a----         9/18/2024   2:39 PM           4393 dotcover.sourceview.js
-a----         9/18/2024   2:39 PM          57257 jquery-1.3.2.min.js
-a----         9/18/2024   2:39 PM           1271 jquery.cookie-1.3.1.min.js
-a----         9/18/2024   2:39 PM          45091 jquery.dynatree-1.2.4.min.js
-a----         9/18/2024   2:39 PM           4386 jquery.splitter-1.5.1.min.js
-a----         9/18/2024   2:39 PM          83631 jquery.ui.custom-1.8.7.min.js


    Directory: ..\sonar-scanner-msbuild\its\projects\DotCoverExcludedCoverage\dotCover.Output\src


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a----         9/18/2024   2:39 PM            783 9_66.html
-a----         9/18/2024   2:39 PM            294 nosource.html
```

The files are then excluded based on the property `/d:sonar.cs.dotcover.reportsPaths=dotCover.Output.html` passed in the begin step, where we automatically append to `sonar.exclusions` the values `dotCover.Output.html,dotCover.Output/**`